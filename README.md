# JIS下駄配列

[![GitHub Latest Release)](https://img.shields.io/github/v/release/funatsufumiya/jis_geta?logo=github&v)](https://github.com/funatsufumiya/jis_geta/releases)

JIS + 新下駄 = JIS下駄配列。

- **※1**: 名前に「JIS」とありますが、JIS配列を元にしただけで、JISに即しているわけではありません。
- **※2**: 名前に「下駄」とあるのは、新下駄配列をベースにしていることと、新下駄配列への敬意を示しています。

## 仕様

![docs/screenshot_main.png](docs/screenshot_main.png)
![docs/screenshot_yo_left.png](docs/screenshot_yo_left.png)
![docs/screenshot_yo_right.png](docs/screenshot_yo_right.png)

- 中指同時シフト
  - 単打キーの左半分 + `K` = 濁音 (or 表に記載のサブ文字)
  - 単打キーの右半分 + `D` = 濁音 (or 表に記載のサブ文字)
- 薬指同時シフト
  - 単打キーの左半分 + `L` = 半濁音
  - 単打キーの右半分 + `S` = 半濁音
- その他
  - 同時押し
    - `RF` or `RG` = `・`
    - `HU` = `／`
    - `FV` or `FB` = `！`
    - `NJ` = `？`
    - `FG` = `「」`
    - `HJ` = `（）`
    - `わ` + 薬指シフト = `ゎ` 
  - Shiftキー押下
    - `,` = `、` （※ 中指シフトも同様。）
    - `.` = `。` （※ 中指シフトも同様。）
    - `?` = `？` （※ 中指シフトは `ろ`。）
    - `!` = `！`
    - `_` = `＿`
    - `=` = `＝` （※ 中指シフトは `ぼ`。薬指シフトは `ぽ`。）
    - `~` = `〜` （※ 中指シフトは `べ`。薬指シフトは `ぺ`。）
    - `[` = `「` （※ 中指シフトも同様。薬指シフトは`（`。）
    - `]` = `」` （※ 中指シフトも同様。薬指シフトは`）`。）
    - `う` (`J`) = `ぅ` （※ 中指シフトは`ヴ` = うの濁音。）
  - 外来語
    - 一部の子音 + `え` (`5`) = `Xぇ` (`xYE`) （例えば「ふぇ」など。以下リストでは記載省略。）
    - `て` + `い` (`W` + `E`) = `ティ`
    - `た` + `い` (`Q` + `E`) = `ディ`
    - `ふ` + `あ` (`2` + `3`) = `ファ`
    - `ふ` + `い` (`2` + `E`) = `フィ`
    - `ふ` + `Y` (`2` + `Y`) = `フェ` （拗音ルールと同じ。以下略。）
    - `ふ` + `お` (`2` + `6`) = `フォ`
    - `ふ` + `う` (`2` + `J`) = `フュ`
    - `う` + `い` (`J` + `E`) = `ウィ`
    - `う` + `お` (`J` + `6`) = `ウォ`


※ その他細かな部分は [やまぶきR用 レイアウトファイル](./JIS下駄.yab) を参照してください。

## 設定ファイル

- [やまぶきR用 レイアウトファイル](./JIS下駄.yab)
- [Karabiner Elements用設定ファイル](./jis_geta.json)

## 特徴

- JIS配列から入れ替えたキーは2箇所。（ま ⇔ う、っ ⇔ き。「つ」と「ー」については廃止した濁点・半濁点の位置に配置。）
- 濁点と半濁点キーの代わりに、中指同時シフトと薬指同時シフトを採用。
- US配列でも打鍵できるよう、「む」と「ろ」については代替策を用意。
- しゃしゅしょ、にゃにゅにょ等の、新下駄配列由来の拗音入力支援および、外来語・記号の入力支援。
- 外来語・拗音については、覚えやすさを極力重視。

## 打鍵感および利点・難点

- JIS配列の特徴である単打が多く覚えやすいという特徴を最重視し、そこに新下駄配列由来の快適な打鍵感をプラス。
- JIS配列を覚えていれば、単打キーの変更箇所は大きく2箇所のみなので、JIS配列を見ながら打つこともでき、打鍵感も比較的似ている。
- 新下駄配列と違って、清濁別置ではないので、配列を覚えやすい。
    - メリット・デメリットは、基本的にJIS配列のそれを引き継ぐが、打ちにくさは緩和されている。

## 仕様の解説

### 単打面および中指・薬指同時シフト

![docs/screenshot_main.png](docs/screenshot_main.png)

- 赤字がJIS配列からの変更点を示しています。ポイントとしては、「き」と入れ替えている単打面は「つ」ではなく「っ」であることで、これは「っ/く/う」の打鍵感を新下駄配列と揃える意図があります。
- 廃止した濁音・半濁音キーに別のキーを割り当てているのは、単打で全てのかなが打鍵できることを重視しているためです。ただし、US配列でも動作させるために、「を/む/ろ」は二重に定義されています。（サブ文字は中指シフトで発動。ただし「ぅ」のみShiftキー。「う」 + 中指シフトはヴ = 「う」の濁音。）
- （なお、1〜9の行のShiftキー押下については定義していませんが、JISとの互換性を上げるために今後Shiftキー押下を定義する可能性もあります。）
- 細かな仕様を見ていただけるとわかりますが、打鍵感は極力JISに近づけるよう努力しています。（特に句読点など。）
- 新下駄配列同様、連続シフトについては基本的に利用しないほうがスムーズに打鍵できるはずです。

### 拗音レイヤー

![docs/screenshot_yo_left.png](docs/screenshot_yo_left.png)
![docs/screenshot_yo_right.png](docs/screenshot_yo_right.png)

- 拗音レイヤーについては、できるだけJIS配列の印字面と対応するようにしています。例えば `N`(YA)と`R`(YA)は、「に」と「り」のキーにそれぞれ対応しており、`S`(YA)、`H`(YA)、`T`(YA) 、`K`(YA) は、「し」と「は」と「ち」と「き」に対応しています。
  - ほかも同様にしたかったのですが、薬指シフトと中指シフトとの兼ね合いより、避けなければならないキーがあったことも含め、濁音と半濁音は極力並ぶようにしています。
  - `K`(YA)（「き」）については、JIS配列から入れ替えていることを踏まえ、入れ替え前後の両方で同じ挙動をするように配慮しています。（印字面を見ながら打つことを想定。）

## License

### ベースになった配列

- [JIS配列](https://ja.wikipedia.org/wiki/JIS%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89) (JIS X 6002 情報処理系けん盤配列)
- [新下駄配列](https://kouy.exblog.jp/13627994/) 作者: kouyさん

### この配列（JIS下駄配列）

- MIT License / Apache License のデュアルライセンス。（ただし、ベース配列の著作権にも配慮をお願いします。）
